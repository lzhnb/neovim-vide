# nvim-vide(开发中)

操作学习可参考 [vim-vide](https://github.com/lzhnb/vim-vide)


<details>
<summary>目录</summary>

<!-- vim-markdown-toc GFM -->

- [nvim-vide(开发中)](#nvim-vide开发中)
	- [安装](#安装)
	- [Vim操作](#vim操作)
		- [光标跳转(普通模式下常用)](#光标跳转普通模式下常用)
		- [复制/粘贴](#复制粘贴)
		- [撤回/重做](#撤回重做)
		- [替换](#替换)
		- [Visual 模式操作](#visual-模式操作)
		- [代码折叠](#代码折叠)
	- [COC](#coc)
	- [补全事项](#补全事项)
	- [Python 设置](#python-设置)
	- [快捷键设置](#快捷键设置)
	- [插件设置](#插件设置)
		- [nvim-comment操作命令](#nvim-comment操作命令)
	- [答谢](#答谢)

<!-- vim-markdown-toc -->
</details>


## 安装
```
git clone --depth 1 https://github.com/lzhnb/neovim-vide ~/.config/nvim
```

## Vim操作
- 命令行运行 `vimtutor` 学习 vim 的基础操作
- 在 `vim/neovim` 运行 `:h` 阅读文档

### 光标跳转(普通模式下常用)
| 命令       | 功能                 |
| ---------- | -------------------- |
| `g`        | 首行(第一行)         |
| `G`        | 尾行(最后一行)       |
| `:n`       | 任意行(第n行)        |
| `n`        | 当前行后n行          |
| `0`/`\|`    | 行首(所在行第一列)   |
| `$`        | 行尾(所在行最后一列) |
| `n\|`/`0nl` | 任意列(所在行第n列)  |

### 复制/粘贴
| 命令     | 功能         |
| -------- | ------------ |
| `yy`     | 复制当前行   |
| `dd`     | 剪贴当前行   |
| `p`      | 粘贴到下部   |
| `P`      | 粘贴到上部   |
| `x`      | 剪切光标选中 |

### 撤回/重做
| 命令     | 功能         |
| -------- | ------------ |
| `u`      | 撤回         |
| `ctrl+r` | 重做         |

### 替换
`:[addr]s/src/tar/[option]`
- `src` 为被替换的字符串
- `tar` 为要替换的字符串
- `addr` 决定检索范围:
	- `n,m`: 从 `n` 到 `m` 行
	- `%`: 当前文件全局
	- `.,$`: 从当前行到尾行
- `option` 决定操作类型
	- `g` 表示全局替换
	- `c` 表示进行确认
	- `p` 表示替代结果逐行显示(`Ctrl+l`恢复屏幕)

常用的全局替换 `:%s/src/tar/g`

### Visual 模式操作
**ctrl-v** 进入 `Visual` 模式后，选中多行(`gg` 到首行，`G` 到尾行):
- 输入 `I` 后则进入输入模式按输入模式编辑，编辑结束后按 `Esc`，则选中的多行输入相同的内容
- 输入 `c` 后则进入替换模式，编辑结束后按 `Esc`，则选中的多行中被选中的内容替换成了输入的内容
- 选中多行后按 `d` 则删除选中的内容
- 按 `<` 则向前缩进 `Tab`，`>` 则向后缩进 `Tab`

### 代码折叠

| 命令                    | 功能           |
| ----------------------- | -------------- |
| `zf`                    | 创建折叠       |
| `zo`                    | 打开折叠       |
| `zc`                    | 关闭折叠       |
| `:mkview` / `:loadview` | 保存，载入绘画 |

## COC
我们使用的 `COC` 拓展:
```sh
coc-git
coc-highlight
coc-snippets
coc-json
coc-explorer
coc-pyright
```

## 补全事项
- `ctrl-n`: 下一个补全选项
- `ctrl-p`: 上一个补全选项
- `ctrl-y`: 确认补全选项

## Python 设置
我们使用 `coc-pyright` 来实现 **Python** 的补全，同时使用 `jedi-vim` 来实现 **跳转** 功能。
我们不使用(关闭了) `jedi-vim` 的自动补全。
- `<leader>d`: 跳转到定义
- `K`: 查看类或函数的文档(注释)
- `<leader>n`: 显示选中成员在当前文件中的使用情况
- `<leader>r`: 重命名成员

## 快捷键设置
| 快捷键   | 功能                       |
| -------- | -------------------------- |
| `ctrl+j` | 切换到上一个缓冲区文件     |
| `ctrl+k` | 切换到下一个缓冲区文件     |
| `ctrl+d` | 退出当前文件并从缓冲区清空 |
| `F3`     | 搜索高亮开关               |
| `F4`     | 粘贴模式(弃用特征)         |

## 插件设置

### nvim-comment操作命令
| 快捷键 | 功能                                     |
| ------ | ---------------------------------------- |
| `gcc`  | 注释/解除注释当前行(普通模式下)           |
| `gc`   | 注释/解除注释当前选中内容(可视多选模式下) |
| `gcip` | 注释/解除注释当前所在段落                 |

## 答谢
[bilibili/vim-vide](https://github.com/bilibili/vim-vide)
[ayamir/nvimdots](https://github.com/ayamir/nvimdots)

TODO

